<!DOCTYPE html>
<html>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta content="TypeScript, type declaration, å‹æ…‹å®£å‘Š, TSDoc, structural typing" name="keywords">
    <meta
      content="Effective TypeScript ç³»åˆ—ï¼šæ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚çš„æ³¨æ„äº‹é … - Han"
      property="og:title"
    />
    <meta
      content="ç´€éŒ„ han çš„å‰ç«¯/ç”Ÿæ´»/å„ç¨®ç­†è¨˜èˆ‡æ—¥å¸¸ï½ï¼ - é€™ç¯‡æ–‡ç« æ¢è¨äº†åœ¨æ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚éœ€è¦æ³¨æ„çš„äº‹é …ï¼ŒåŒ…æ‹¬å„ªå…ˆä½¿ç”¨ structural typingã€å°‡æ‰€æœ‰ç”¨åˆ°çš„å‹æ…‹éƒ½ exportã€ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹ï¼Œä»¥åŠå„ªå…ˆè€ƒæ…®ä½¿ç”¨æ¢ä»¶å‹æ…‹è€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Šã€‚é€éé€™äº›æŠ€å·§ï¼Œå¯ä»¥æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œæ˜“ç”¨æ€§ã€‚"
      property="og:description"
    />
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1">




<title>Effective TypeScript ç³»åˆ—ï¼šæ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚çš„æ³¨æ„äº‹é … | Han</title>
<link rel="canonical" href="http://localhost:1313/posts/type-declaration-tips/">
<meta name="description" content="é€™ç¯‡æ–‡ç« æ¢è¨äº†åœ¨æ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚éœ€è¦æ³¨æ„çš„äº‹é …ï¼ŒåŒ…æ‹¬å„ªå…ˆä½¿ç”¨ structural typingã€å°‡æ‰€æœ‰ç”¨åˆ°çš„å‹æ…‹éƒ½ exportã€ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹ï¼Œä»¥åŠå„ªå…ˆè€ƒæ…®ä½¿ç”¨æ¢ä»¶å‹æ…‹è€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Šã€‚é€éé€™äº›æŠ€å·§ï¼Œå¯ä»¥æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œæ˜“ç”¨æ€§ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Effective TypeScript ç³»åˆ—ï¼šæ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚çš„æ³¨æ„äº‹é … | Han" />
<meta property="og:url" content="http://localhost:1313/posts/type-declaration-tips/" />
<meta property="og:description" content="é€™ç¯‡æ–‡ç« æ¢è¨äº†åœ¨æ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚éœ€è¦æ³¨æ„çš„äº‹é …ï¼ŒåŒ…æ‹¬å„ªå…ˆä½¿ç”¨ structural typingã€å°‡æ‰€æœ‰ç”¨åˆ°çš„å‹æ…‹éƒ½ exportã€ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹ï¼Œä»¥åŠå„ªå…ˆè€ƒæ…®ä½¿ç”¨æ¢ä»¶å‹æ…‹è€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Šã€‚é€éé€™äº›æŠ€å·§ï¼Œå¯ä»¥æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œæ˜“ç”¨æ€§ã€‚" />








<link rel="stylesheet" href="/lib/icofont/icofont.min.css" />
<link rel="stylesheet" href="/css/syntax.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
 
  </head>

  <body>
    <header class="header-wrapper">
    <div class="header">
        <a class="site-title" href="http://localhost:1313/">Han</a>

        <nav class="menu">
            
                <div class="menu-item">
                    
                        <a href="/posts/">Posts</a>
                    
                </div>
            
                <div class="menu-item">
                    
                        <a href="/about/">About</a>
                    
                </div>
            
        </nav>
    </div>
</header>

    <main class="main-wrapper">
      <div class="main">

<section class="single">
    <h1 class="title">Effective TypeScript ç³»åˆ—ï¼šæ’°å¯« TypeScript å‹æ…‹å®£å‘Šæ™‚çš„æ³¨æ„äº‹é …</h1>

    
        <div class="tip">
            <time datetime="2024-04-06 20:31:14 &#43;0800 CST">2024/04/06</time>
            <span class="split">Â·</span>
            <span> 1917 words </span>
            <span class="split">Â·</span>
            <span>
                4 minutes to read
            </span>
        </div>
    

    <div class="taxonomies">
        
        <div>
            Categories:
            
                <a href="/categories/typescript">TypeScript</a>
            
        </div>
        

        
            <div>
                Tags:
                
                    <a href="/tags/effective-typescript">Effective TypeScript</a>
                
            </div>
        
    </div>

    <hr />

    <div class="content">
        <h3 id="å‰æƒ…æè¦">å‰æƒ…æè¦ <a href="#%e5%89%8d%e6%83%85%e6%8f%90%e8%a6%81" class="anchor">ğŸ”—</a></h3><p>å»¶çºŒä¸Šä¸€ç¯‡<a href="https://www.zzuhann.work/posts/typescript-types/" target="_blank">Effective TypeScript CH6 - ä½¿ç”¨ TypeScript å¾Œè¦æ³¨æ„çš„ç‰ˆæœ¬ç®¡ç†ã€ä»‹ç´¹ @types</a>
ï¼Œé€™ç¯‡æœƒæåˆ°çš„å…§å®¹ç•¶è‡ªå·±å˜—è©¦è¦é–‹å§‹å¯«å‹æ…‹å®£å‘Šã€ä¸¦ä¸”é–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨æ™‚ï¼Œè¦æ³¨æ„å“ªäº›äº‹æƒ…ã€‚</p>
<h3 id="é€™ç¯‡æ–‡æœƒæåˆ°">é€™ç¯‡æ–‡æœƒæåˆ° <a href="#%e9%80%99%e7%af%87%e6%96%87%e6%9c%83%e6%8f%90%e5%88%b0" class="anchor">ğŸ”—</a></h3><ul>
<li><a href="#%E5%9C%A8%E5%AF%AB%E5%9E%8B%E6%85%8B%E5%AE%A3%E5%91%8A%E4%B8%A6%E4%B8%94%E9%A0%90%E8%A8%88%E9%96%8B%E6%94%BE%E7%B5%A6%E5%85%B6%E4%BB%96%E4%BA%BA%E4%BD%BF%E7%94%A8%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E9%BA%BC">åœ¨å¯«å‹æ…‹å®£å‘Šï¼Œä¸¦ä¸”é è¨ˆé–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨ï¼Œè¦æ³¨æ„ä»€éº¼ï¼Ÿ</a>
<ul>
<li><a href="#%E5%84%AA%E5%85%88%E4%BD%BF%E7%94%A8-structural-typing-%E4%BE%86%E6%8F%90%E4%BE%9B%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84%E4%BE%9D%E8%B3%B4%E9%A0%85%E7%9B%AE">å„ªå…ˆä½¿ç”¨ structural typing ä¾†æä¾›éå¿…è¦çš„ä¾è³´é …ç›®</a></li>
<li><a href="#%E8%A8%AD%E8%A8%88%E4%BA%86-public-%E7%9A%84-api%E5%8F%AA%E8%A6%81%E6%9C%89%E7%94%A8%E5%88%B0%E7%9A%84%E5%9E%8B%E5%88%A5%E5%B0%B1%E6%8A%8A%E5%AE%83-export-%E5%87%BA%E5%8E%BB">è¨­è¨ˆäº† public çš„ apiï¼Œåªè¦æœ‰ç”¨åˆ°çš„å‹åˆ¥å°±æŠŠå®ƒ export å‡ºå»</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8-jsdoc-%E6%88%96-tsdoc-%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%A8%BB%E9%87%8B%E4%BE%86%E8%AA%AA%E6%98%8E%E5%8C%AF%E5%87%BA%E7%9A%84%E5%87%BD%E5%BC%8F%E9%A1%9E%E5%88%A5%E8%88%87%E5%9E%8B%E6%85%8B">ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜åŒ¯å‡ºçš„å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹</a></li>
<li><a href="#%E5%84%AA%E5%85%88%E4%BD%BF%E7%94%A8%E6%A2%9D%E4%BB%B6%E5%9E%8B%E6%85%8B%E8%80%8C%E4%B8%8D%E6%98%AF%E5%A4%9A%E8%BC%89%E7%9A%84%E5%9E%8B%E6%85%8B%E5%AE%A3%E5%91%8A">å„ªå…ˆä½¿ç”¨æ¢ä»¶å‹æ…‹ï¼Œè€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Š</a></li>
</ul>
</li>
</ul>
<h3 id="åœ¨å¯«å‹æ…‹å®£å‘Šä¸¦ä¸”é è¨ˆé–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨è¦æ³¨æ„ä»€éº¼">åœ¨å¯«å‹æ…‹å®£å‘Šï¼Œä¸¦ä¸”é è¨ˆé–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨ï¼Œè¦æ³¨æ„ä»€éº¼ï¼Ÿ <a href="#%e5%9c%a8%e5%af%ab%e5%9e%8b%e6%85%8b%e5%ae%a3%e5%91%8a%e4%b8%a6%e4%b8%94%e9%a0%90%e8%a8%88%e9%96%8b%e6%94%be%e7%b5%a6%e5%85%b6%e4%bb%96%e4%ba%ba%e4%bd%bf%e7%94%a8%e8%a6%81%e6%b3%a8%e6%84%8f%e4%bb%80%e9%ba%bc" class="anchor">ğŸ”—</a></h3><h4 id="å„ªå…ˆä½¿ç”¨-structural-typing-ä¾†æä¾›éå¿…è¦çš„ä¾è³´é …ç›®">å„ªå…ˆä½¿ç”¨ structural typing ä¾†æä¾›éå¿…è¦çš„ä¾è³´é …ç›® <a href="#%e5%84%aa%e5%85%88%e4%bd%bf%e7%94%a8-structural-typing-%e4%be%86%e6%8f%90%e4%be%9b%e9%9d%9e%e5%bf%85%e8%a6%81%e7%9a%84%e4%be%9d%e8%b3%b4%e9%a0%85%e7%9b%ae" class="anchor">ğŸ”—</a></h4><p>ç•¶é–‹å§‹å¯«å‹æ…‹å®£å‘Šæ™‚ï¼Œå¯èƒ½æœƒæœ‰éœ€è¦ä¾è³´å…¶ä»– <code>@types</code> çš„å‹åˆ¥ï¼Œç‚ºäº†è®“å…¶ä»–ä½¿ç”¨è€… install æ™‚ä¹Ÿèƒ½æˆåŠŸä¸‹è¼‰ä¾è³´çš„å‹åˆ¥ï¼Œæ‰€ä»¥å°‡ä¾è³´çš„ <code>@types</code> å®‰è£åœ¨ devDependencyã€‚</p>
<p>æ›¸ä¸Šçš„èˆ‰ä¾‹æ˜¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * å¯«äº†ä¸€å€‹è§£æ CSV æª”æ¡ˆçš„ç¨‹å¼åº«
</span></span></span><span class="line"><span class="cl"><span class="cm"> * input: CSV æª”æ¡ˆå…§å®¹ï¼ˆç‚ºäº†æ–¹ä¾¿ NodeJS ç”¨æˆ¶/ç€è¦½å™¨ç”¨æˆ¶ï¼Œå¯ä»¥æ˜¯ Buffer æˆ–å­—ä¸²ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm"> * output: ç‰©ä»¶ä¸²åˆ—ï¼šå°‡æ¬„ä½åç¨±ä½œç‚º keyï¼Œæ¬„ä½å€¼ä½œç‚º value
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">parseCSV</span><span class="p">(</span><span class="nx">input</span>: <span class="kt">string</span> <span class="o">|</span> <span class="nx">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">column</span>: <span class="kt">string</span><span class="p">]</span><span class="o">:</span> <span class="kt">string</span> <span class="p">}[]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">input</span> <span class="o">===</span> <span class="s2">&#34;object&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">parseCSV</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&#34;utf-8&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>è€Œ <code>Buffer</code> æ˜¯ä¾†è‡ª nodejs çš„å‹æ…‹å®£å‘Šï¼Œæ‰€ä»¥ install äº† <code>@types/node</code></p>
<pre tabindex="0"><code>npm install --save-dev @types/node
</code></pre><p>é€™æ™‚å€™æœƒç”¢ç”Ÿçš„å•é¡Œæ˜¯ï¼šå°ç€è¦½å™¨é–‹ç™¼è€…ä¾†èªªï¼Œå®ƒå€‘ä¸¦ä¸éœ€è¦é€™å€‹å‹åˆ¥ã€è€Œå°é TypeScript çš„ nodejs é–‹ç™¼è€…ä¾†èªªï¼Œä»–å€‘ä¹Ÿä¸éœ€è¦ã€‚
ä½œè€…å»ºè­°å¯ä»¥å„ªå…ˆä½¿ç”¨ structural typingï¼Œä»¥æ¸›å°‘å°å¤–éƒ¨ä¾è³´çš„éœ€è¦ï¼Œåªè¦ç¬¦åˆæ‰€éœ€åŠŸèƒ½çš„å‹åˆ¥å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// é€é structural typingï¼Œåˆ¤æ–·æ˜¯å¦å­˜åœ¨ç‰¹å®šçš„ method ä¾†æ±ºå®šæ˜¯å¦ç‚º Buffer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">CSVBuffer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">toString</span><span class="p">(</span><span class="nx">encoding</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">parseCSV2</span><span class="p">(</span><span class="nx">input</span>: <span class="kt">string</span> <span class="o">|</span> <span class="nx">CSVBuffer</span><span class="p">)</span><span class="o">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">column</span>: <span class="kt">string</span><span class="p">]</span><span class="o">:</span> <span class="kt">string</span> <span class="p">}[]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">input</span> <span class="o">===</span> <span class="s2">&#34;object&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">parseCSV2</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&#34;utf-8&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// åœ¨ nodejs ä¸­å°±å¯ä»¥é€éä»¥ä¸‹æ–¹å¼ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">parseCSV2</span><span class="p">(</span><span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="s2">&#34;a,b,c\n1,2,3\n&#34;</span><span class="p">));</span>
</span></span></code></pre></div><p>èƒ½ä¸ä¾è³´å…¶ä»–å¥—ä»¶çš„å‹åˆ¥å°±ç›¡é‡ä¸ä¾è³´ï¼Œå…ˆå˜—è©¦çœ‹çœ‹é€é structural typing æ˜¯å¦èƒ½è§£æ±ºã€‚
ä½œè€…ä¸‹äº†é€™æ¨£çš„ç¸½çµï¼šä¸è¦å¼·è¿« JavaScript é–‹ç™¼è€…ä¾è³´ <code>@types</code>ã€ä¸è¦å¼·è¿« Web é–‹ç™¼è€…ä¾è³´ nodejsã€‚</p>
<h4 id="è¨­è¨ˆäº†-public-çš„-apiåªè¦æœ‰ç”¨åˆ°çš„å‹åˆ¥å°±æŠŠå®ƒ-export-å‡ºå»">è¨­è¨ˆäº† public çš„ apiï¼Œåªè¦æœ‰ç”¨åˆ°çš„å‹åˆ¥å°±æŠŠå®ƒ export å‡ºå» <a href="#%e8%a8%ad%e8%a8%88%e4%ba%86-public-%e7%9a%84-api%e5%8f%aa%e8%a6%81%e6%9c%89%e7%94%a8%e5%88%b0%e7%9a%84%e5%9e%8b%e5%88%a5%e5%b0%b1%e6%8a%8a%e5%ae%83-export-%e5%87%ba%e5%8e%bb" class="anchor">ğŸ”—</a></h4><p>ç•¶è¨­è¨ˆäº† public çš„ apiï¼Œæ‡‰è©²æŠŠæœ‰ç”¨åˆ°çš„å‹åˆ¥éƒ½ exportï¼Œç¢ºä¿ä½¿ç”¨è€…å¯ä»¥å­˜å–åˆ°æ‰€æœ‰ç”¨åˆ°çš„å‹åˆ¥ï¼Œä¸éœ€è¦æ±æ‹¼è¥¿æ¹Šï¼Œåªç‚ºäº†æ‰¾å‡ºé¡ä¼¼çš„å‹åˆ¥æˆ–æ˜¯é‡æ–°é€²è¡Œå‹æ…‹å®£å‘Šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">Name</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">firstName</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">lastName</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">getDeposit</span><span class="p">(</span><span class="nx">name</span>: <span class="kt">Name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œé›–ç„¶ä½¿ç”¨è€… import çš„å°è±¡æ˜¯ <code>getDeposit</code> é€™å€‹ functionï¼Œçœ‹èµ·ä¾†ä¸éœ€è¦ import <code>Name</code> é€™å€‹å‹åˆ¥ï¼Œä½†å…¶å¯¦ç‚ºäº†æ­£ç¢ºåŸ·è¡Œ <code>getDeposit</code> é€™å€‹ functionï¼Œä»–ä»éœ€è¦ <code>Name</code> ä¾†é©—è­‰åƒæ•¸çš„å‹åˆ¥ã€‚</p>
<p>æ‰€ä»¥ï¼Œåªè¦æœ‰ç”¨åˆ°çš„å‹åˆ¥å°± export å‡ºå»ï¼Œè®“ä½¿ç”¨è€…æ›´æ–¹ä¾¿ã€ä¹Ÿæ›´å½ˆæ€§çš„ä½¿ç”¨ä½ è¨­è¨ˆçš„ apiã€‚</p>
<h4 id="ä½¿ç”¨-jsdoc-æˆ–-tsdoc-æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜åŒ¯å‡ºçš„å‡½å¼é¡åˆ¥èˆ‡å‹æ…‹">ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜åŒ¯å‡ºçš„å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹ <a href="#%e4%bd%bf%e7%94%a8-jsdoc-%e6%88%96-tsdoc-%e6%a0%bc%e5%bc%8f%e7%9a%84%e8%a8%bb%e9%87%8b%e4%be%86%e8%aa%aa%e6%98%8e%e5%8c%af%e5%87%ba%e7%9a%84%e5%87%bd%e5%bc%8f%e9%a1%9e%e5%88%a5%e8%88%87%e5%9e%8b%e6%85%8b" class="anchor">ğŸ”—</a></h4><p>ä½ ç¶“å¸¸å¯«çš„æ˜¯è¡Œå…§è¨»é‡‹ <code>//</code> é‚„æ˜¯ JSDoc/TSDoc é¢¨æ ¼çš„è¨»é‡‹ <code>/** */</code> å‘¢ï¼Ÿ
ç·¨è¼¯å™¨æœƒé€éæç¤ºå·¥å…·æŠŠ JSDoc/TSDoc çš„è¨»é‡‹é¡¯ç¤ºå‡ºä¾†ï¼Œè¡Œå…§è¨»é‡‹å‰‡ä¸æœƒã€‚</p>
<p><img src="/gif/jsdoc.gif" alt="jsdoc"></p>
<p><img src="/gif/jsdoc-import.gif" alt="jsdoc-import">
ä½¿ç”¨ JSDoc æ™‚ï¼Œimport ä¹Ÿèƒ½çœ‹åˆ° JSDoc å°è©² function çš„è¨»é‡‹ã€‚</p>
<p>åœ¨å®šç¾©å‹æ…‹æ™‚ä½¿ç”¨ TSDoc
<img src="/gif/tsdoc-new.gif" alt="tsdoc"></p>
<h4 id="å„ªå…ˆä½¿ç”¨æ¢ä»¶å‹æ…‹è€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Š">å„ªå…ˆä½¿ç”¨æ¢ä»¶å‹æ…‹ï¼Œè€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Š <a href="#%e5%84%aa%e5%85%88%e4%bd%bf%e7%94%a8%e6%a2%9d%e4%bb%b6%e5%9e%8b%e6%85%8b%e8%80%8c%e4%b8%8d%e6%98%af%e5%a4%9a%e8%bc%89%e7%9a%84%e5%9e%8b%e6%85%8b%e5%ae%a3%e5%91%8a" class="anchor">ğŸ”—</a></h4><p>é›–ç„¶ TypeScript æ”¯æ´å¤šè¼‰çš„æ–¹å¼å®£å‘Š function çš„å‹åˆ¥ï¼Œä½œè€…å»ºè­°æ‡‰è©²å„ªå…ˆä½¿ç”¨æ¢ä»¶å‹æ…‹ï¼Œè€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Šã€‚
æ¢ä»¶å‹æ…‹å¯è®“ä½ çš„å®£å‘Šå¼æ”¯æ´è¯é›†å‹æ…‹ã€‚</p>
<p>ä»¥ä¸‹ä¾‹å­ç‚º Effective TypeScript æ›¸ä¸­ç¨‹å¼ç¢¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * éœ€è¦å¯¦ä½œä¸€å€‹å¯ä»¥æ¥æ”¶ string | number çš„ function
</span></span></span><span class="line"><span class="cl"><span class="cm"> * å‰›é–‹å§‹ï¼Œå¯èƒ½æœƒä½¿ç”¨è¯é›†é¡å‹
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// é€™æ¨£çš„å¯«æ³•ï¼Œæœƒè®“ return çš„ type éƒ½è®Šæˆ string | number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">num</span> <span class="o">=</span> <span class="nx">double</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// ä½†æˆ‘æƒ³è¦é€™å€‹çš„ return type æ˜¯ number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">double</span><span class="p">(</span><span class="s2">&#34;x&#34;</span><span class="p">);</span> <span class="c1">// æˆ‘æƒ³è¦é€™å€‹çš„ return type æ˜¯ string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ¥ä¸‹ä¾†ï¼Œä¹Ÿè¨±å¯ä»¥å˜—è©¦çœ‹çœ‹æ³›å‹
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double2</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="na">number</span> <span class="err">|</span> <span class="na">string</span><span class="p">&gt;(</span><span class="nx">x</span>: <span class="kt">T</span><span class="p">)</span><span class="o">:</span> <span class="nx">T</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double2</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å‚³å…¥å­—é¢å¸¸å€¼ï¼Œå› ç‚ºæ˜¯ constï¼Œæ‰€ä»¥å‚³çµ¦ T çš„å‹åˆ¥æ˜¯ 12 | &#39;x&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1">// æ¥è‘— return çš„å‹åˆ¥å°±æ˜¯ 12 | &#39;x&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1">// ä½†å¯¦éš›ä¸Šï¼Œå¾—åˆ°çš„çµæœæ‡‰è©²æ˜¯ 24 | &#39;xx&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">num2</span> <span class="o">=</span> <span class="nx">double2</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// return type 12, ä½†å¯¦éš›æ‡‰è©²æ˜¯ 24
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">str2</span> <span class="o">=</span> <span class="nx">double2</span><span class="p">(</span><span class="s2">&#34;x&#34;</span><span class="p">);</span> <span class="c1">// return type &#39;x&#39;, ä½†å¯¦éš›æ‡‰è©²æ˜¯ &#39;xx&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * è©¦è©¦çœ‹å¤šè¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double3</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double3</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double3</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// çœ‹èµ·ä¾†é‚„ä¸éŒ¯ï¼Ÿ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">num3</span> <span class="o">=</span> <span class="nx">double3</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">str3</span> <span class="o">=</span> <span class="nx">double3</span><span class="p">(</span><span class="s2">&#34;x&#34;</span><span class="p">);</span> <span class="c1">// string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ­¤æ™‚å¦‚æœæœ‰ä¸€å€‹ function å˜—è©¦å‚³å…¥ string | number
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">double3</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// é€²è¡Œå¤šè¼‰å‹æ…‹å®£å‘Šæ™‚ï¼ŒTypeScript æœƒä¸€å€‹ä¸€å€‹æª¢æŸ¥ï¼Œç›´åˆ°æ‰¾åˆ°ç›¸ç¬¦çš„ç‚ºæ­¢
</span></span></span><span class="line"><span class="cl"><span class="c1">// å…ˆæª¢æŸ¥æ˜¯å¦ç¬¦åˆ function double3(x: number): number;
</span></span></span><span class="line"><span class="cl"><span class="c1">// å†æª¢æŸ¥æ˜¯å¦ç¬¦åˆ function double3(x: string): string;
</span></span></span><span class="line"><span class="cl"><span class="c1">// éƒ½ä¸ç¬¦åˆï¼Œæ‰€ä»¥æœƒåœ¨æœ€å¾Œä¸€å€‹ string type å ±éŒ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ä½¿ç”¨æ¢ä»¶å‹æ…‹
</span></span></span><span class="line"><span class="cl"><span class="cm"> * çœ‹èµ·ä¾†åƒå‰›å‰›æåˆ°çš„æ³›å‹ï¼Œä½†ä»–æœ‰æ›´ç¸å¯†çš„ return type
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double4</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="na">number</span> <span class="err">|</span> <span class="na">string</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">x</span>: <span class="kt">T</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">:</span> <span class="nx">T</span> <span class="kr">extends</span> <span class="kt">string</span> <span class="o">?</span> <span class="kt">string</span> <span class="o">:</span> <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">double4</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">number4</span> <span class="o">=</span> <span class="nx">double4</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">string4</span> <span class="o">=</span> <span class="nx">double4</span><span class="p">(</span><span class="s2">&#34;x&#34;</span><span class="p">);</span> <span class="c1">// string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">f2</span><span class="p">(</span><span class="nx">x</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">double4</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>ä¸Šè¿°çš„ä¾‹å­ï¼Œå¤šè¼‰å°æ–¼ä¸€æ¬¡å‚³å…¥ä¸€ç¨® type å¯ä»¥å¾ˆå¥½çš„è™•ç†ï¼Œä½†æ²’è¾¦æ³•è™•ç†æœƒæœ‰å¤šç¨® type å‚³å…¥çš„å¯èƒ½æ€§
è€Œé€éæ¢ä»¶å‹æ…‹ï¼Œå¯ä»¥åˆ¤æ–·æœ¬æ¬¡å‚³å…¥çš„ type ç‚ºä½•è€…ï¼Œéˆæ´»çš„èª¿æ•´ return type çš„çµæœ
å› æ­¤åœ¨ä¸Šè¿°çš„æƒ…å¢ƒä¸‹ï¼Œæ¢ä»¶å‹æ…‹æœƒæ˜¯æ›´å¥½çš„é¸æ“‡ã€‚</p>
<h3 id="ç¸½çµ">ç¸½çµ <a href="#%e7%b8%bd%e7%b5%90" class="anchor">ğŸ”—</a></h3><p>é›–ç„¶å¸Œæœ›å¯ä»¥åœ¨é€™ç¯‡å°±æŠŠä¸Šç¯‡é è¨ˆå‰©ä¸‹é‚„æ²’æåˆ°çš„æ±è¥¿å¯«å®Œï¼Œä½†ä¸€é©šï¼å…§å®¹å¥½åƒé‚„æ˜¯å¤ªå¤šäº†ï½ æ‰€ä»¥é è¨ˆæœƒå†åˆ†ç‚ºå…©ç¯‡ï¼šå¦‚ä½•æ¸¬è©¦å‹æ…‹å®£å‘Šã€ä»¥åŠåŸä¾†ä¹Ÿå¯ä»¥åœ¨ TypeScript ä¸­å®£å‘Š this çš„å‹åˆ¥ï¼</p>
<p>åšå€‹ç¸½çµï¼Œé€™ç¯‡ä¸»è¦æåˆ°çš„æ˜¯å¦‚æœè‡ªå·±æƒ³è¦å¯«å‹æ…‹å®£å‘Šï¼Œä¸¦ä¸”é–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨ï¼Œè¦æ³¨æ„å“ªäº›å‘¢</p>
<ol>
<li>å„ªå…ˆä½¿ç”¨ structural typing ä¾†æä¾›éå¿…è¦çš„ä¾è³´é …ç›®
<ul>
<li>ç›¡é‡ä¸å»åšå…¶ä»–å¥—ä»¶çš„å‹æ…‹å»åšä¾è³´ï¼Œå› ç‚ºå¯èƒ½æœƒè®“ç€è¦½å™¨é–‹ç™¼è€…æˆ–æ˜¯ JavaScript é–‹ç™¼è€…å¢åŠ ä¸éœ€è¦çš„ä¾è³´</li>
</ul>
</li>
<li>è¨­è¨ˆäº† public çš„ apiï¼Œåªè¦æœ‰ç”¨åˆ°çš„å‹åˆ¥å°±æŠŠå®ƒ export å‡ºå»</li>
<li>ä½¿ç”¨ JSDoc æˆ– TSDoc æ ¼å¼çš„è¨»é‡‹ä¾†èªªæ˜åŒ¯å‡ºçš„å‡½å¼ã€é¡åˆ¥èˆ‡å‹æ…‹</li>
<li>å„ªå…ˆä½¿ç”¨æ¢ä»¶å‹æ…‹ï¼Œè€Œä¸æ˜¯å¤šè¼‰çš„å‹æ…‹å®£å‘Š</li>
</ol>
<h3 id="ref-åƒè€ƒ">REF åƒè€ƒ <a href="#ref-%e5%8f%83%e8%80%83" class="anchor">ğŸ”—</a></h3><ul>
<li><a href="https://www.books.com.tw/products/0010858053" target="_blank">Effective TypeScript ä¸­æ–‡ç‰ˆ</a>
</li>
</ul>

    </div>

    

    <div class="disqus markdown" style="width: 100%;">
        <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'https-www-zzuhann-work';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</section>

</div>
      <div class="side">
         <div class="side-recent">
    <h2 class="side-title">
        <a href="/posts/">Recent Posts</a>
    </h2>
    <hr />

    <ul>
        
            <li>
                <a href="/posts/ts-unknown-vs-any/">Effective TypeScript: unknown vs any</a>
            </li>
        
            <li>
                <a href="/posts/use-slug-for-dynamic-routes/">ä½¿ç”¨ Next.js çš„ Dynamic Routes ä¾†è™•ç†å¤šå±¤çµæ§‹çš„é é¢</a>
            </li>
        
            <li>
                <a href="/posts/use-flex-to-limit-font-size/">ä½¿ç”¨ flex box ä¾†é˜²æ­¢å­—é«”è¢«å‹•æ…‹èª¿æ•´ï¼Ÿ</a>
            </li>
        
            <li>
                <a href="/posts/strict-false-ignore-null-ts/">tsconfig è¨­å®š strict: false æœƒå¿½ç•¥ null çš„å‹åˆ¥åˆ¤å®š</a>
            </li>
        
            <li>
                <a href="/posts/brain-can-not-multiwork/">è®€æ›¸æ—¥è¨˜ | å¤§è…¦æ²’è¾¦æ³•å¤šå·¥ï¼Œå³ä½¿è¨“ç·´ä¹Ÿä¸€æ¨£ï¼</a>
            </li>
        
    </ul>
</div>
 
        <div class="side-categories">
    <h2>Categories</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/categories/typescript">typescript(4)</a>
            </li>
        
            <li>
                <a href="/categories/%E5%89%8D%E7%AB%AF">å‰ç«¯(2)</a>
            </li>
        
            <li>
                <a href="/categories/%E6%8A%80%E8%A1%93">æŠ€è¡“(7)</a>
            </li>
        
            <li>
                <a href="/categories/%E6%9D%82%E6%8A%80%E6%B5%85%E5%B0%9D">æ‚æŠ€æµ…å°(1)</a>
            </li>
        
            <li>
                <a href="/categories/%E8%A7%80%E7%9C%8B%E7%AD%86%E8%A8%98">è§€çœ‹ç­†è¨˜(1)</a>
            </li>
        
            <li>
                <a href="/categories/%E8%AE%80%E6%9B%B8%E6%97%A5%E8%A8%98">è®€æ›¸æ—¥è¨˜(2)</a>
            </li>
        
    </ul>
</div>
 <div class="side-tags">
    <h2>Tags</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/tags/css">css (1)</a>
            </li>
        
            <li>
                <a href="/tags/css-challenge">css challenge (1)</a>
            </li>
        
            <li>
                <a href="/tags/effective-typescript">effective typescript (4)</a>
            </li>
        
            <li>
                <a href="/tags/hugo">hugo (3)</a>
            </li>
        
            <li>
                <a href="/tags/next.js">next.js (1)</a>
            </li>
        
            <li>
                <a href="/tags/reading-diary">reading diary (2)</a>
            </li>
        
            <li>
                <a href="/tags/typescript">typescript (2)</a>
            </li>
        
            <li>
                <a href="/tags/video-diary">video diary (1)</a>
            </li>
        
    </ul>
</div>

      </div>
    </main>
  </body>
</html>
