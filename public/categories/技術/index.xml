<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>技術 on Han</title>
    <link>http://localhost:1313/categories/%E6%8A%80%E8%A1%93/</link>
    <description>Recent content in 技術 on Han</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 07 Oct 2024 00:20:27 +0800</lastBuildDate><atom:link href="http://localhost:1313/categories/%E6%8A%80%E8%A1%93/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Effective TypeScript: unknown vs any</title>
      <link>http://localhost:1313/posts/ts-unknown-vs-any/</link>
      <pubDate>Mon, 07 Oct 2024 00:20:27 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/ts-unknown-vs-any/</guid>
      <description>&lt;p&gt;在 TypeScript 中使用 &lt;code&gt;unknown&lt;/code&gt; 及 &lt;code&gt;any&lt;/code&gt; 時，雖然看起來都是因為不知道型別時會使用的型別，兩者之中還是有一些區別。&lt;/p&gt;
&lt;p&gt;之前讀書會的時候有同學分享過一些差異，把筆記整理一下分享出來，之後有更多相關的補充資料也會繼續調整這篇文章。&lt;/p&gt;
&lt;h3 id=&#34;unknown-型態是-any-型態的安全替代品&#34;&gt;&lt;code&gt;unknown&lt;/code&gt; 型態是 &lt;code&gt;any&lt;/code&gt; 型態的安全替代品 &lt;a href=&#34;#unknown-%e5%9e%8b%e6%85%8b%e6%98%af-any-%e5%9e%8b%e6%85%8b%e7%9a%84%e5%ae%89%e5%85%a8%e6%9b%bf%e4%bb%a3%e5%93%81&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;在不知道型別時，比起馬上使用 &lt;code&gt;any&lt;/code&gt;，可以考慮使用 &lt;code&gt;unknown&lt;/code&gt; 來作為替代品，有提到幾個原因&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;針對 &lt;code&gt;unknown&lt;/code&gt; 型別的變數做任何操作都會產生警告&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;unknown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// &amp;#39;unknownVar&amp;#39; is of type &amp;#39;unknown&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// &amp;#39;unknownVar&amp;#39; is of type &amp;#39;unknown&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果你很肯定你當下在使用時，會有 &lt;code&gt;b&lt;/code&gt; 這個屬性可以使用、或是肯定 &lt;code&gt;unkownVar&lt;/code&gt; 是 function 的話，也許可以在使用時進行一些調整：進行斷言 &lt;code&gt;as&lt;/code&gt; 或是透過 type guard 進行更安全的型別檢查&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;斷言 &lt;code&gt;as&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;unknown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;VoidFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;使用斷言的感覺有點像是在跟 TypeScript 說「我比你更懂！」，所以如果不是超級篤定的話，使用 type guard 後再進行斷言或許也是不錯的方式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;type guard&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;unknown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 確認 unknownVar 是物件、不是 null 且有 b 這個屬性
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;typeof&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;object&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;b&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;typeof&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;function&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;VoidFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;任何型態都可以指派給 &lt;code&gt;unkown&lt;/code&gt;， &lt;code&gt;unknown&lt;/code&gt; 不能指派給其他型態&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;unknown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 可以指派任何型態給 unknown
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;string value&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;stringVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// unknown 不能指派給其他型態
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;stringVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unknownVar&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Type &amp;#39;unknown&amp;#39; is not assignable to type &amp;#39;string&amp;#39;.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;相比 &lt;code&gt;any&lt;/code&gt; 呢？&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;任何型態都可以指派給 &lt;code&gt;any&lt;/code&gt;，&lt;code&gt;any&lt;/code&gt; 可以指派給其他型態（除了 &lt;code&gt;never&lt;/code&gt;）&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 任何型態都可以指派給 any
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;string value&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// any 可以指派給其他型態
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;stringVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;numberVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;booleanVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;stringVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;numberVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;booleanVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;型態是 &lt;code&gt;any&lt;/code&gt; ，就等於 typescript 不再對這個變數進行型別檢查，也減少了型別的安全性，且 any 有蔓延性（下次再來寫這個！），一不注意就會讓更多變數也變成 any。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;neverVar&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// any 不能指派給 never
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;neverVar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;anyVar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Type &amp;#39;any&amp;#39; is not assignable to type &amp;#39;never&amp;#39;. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;never&lt;/code&gt; 是「永遠不會發生的值」，所以他也不應該等於任何值，&lt;code&gt;any&lt;/code&gt; 就也沒有辦法指派給 &lt;code&gt;never&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;Ref: Effective TypeScript 3,4,5 章 讀書會&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用 Next.js 的 Dynamic Routes 來處理多層結構的頁面</title>
      <link>http://localhost:1313/posts/use-slug-for-dynamic-routes/</link>
      <pubDate>Sat, 05 Oct 2024 00:00:01 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/use-slug-for-dynamic-routes/</guid>
      <description>&lt;p&gt;實作「常見問題」頁面的時候，常見問題可能會是多層結構&lt;/p&gt;
&lt;p&gt;以&lt;a href=&#34;https://support.rhinoshield.io/hc/zh-tw/&#34; target=&#34;_blank&#34;&gt;犀牛盾的常見問題頁&lt;/a&gt;
來說：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;最外層是 Categories：iPhone 16 專區｜產品使用｜訂單常見問題｜會員常見問題 &amp;hellip;&lt;/li&gt;
&lt;li&gt;點擊任何一個 Category 後，會看到該 Category 對應到的 Sections&lt;/li&gt;
&lt;li&gt;再點擊任一個 Section 後，會看到該 Section 對應到的 Articles&lt;/li&gt;
&lt;li&gt;點擊任一個 Article，會進入特定的文章頁面&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最近接觸到的常見問題頁，在點擊切換 Category/Section/Article 時，網址是不會有變化的，而是透過 state 來控制當前顯示的 component&lt;/p&gt;
&lt;p&gt;隨著需求改變，希望可以調整成 Category/Section/Article 都能夠有自己的相對應網址，這樣客服在回答問題時，可以直接將網址傳給對方、或是在某些頁面將用戶導到相對應的文章網址，用戶就不用自己從入口開始漫無目的的尋找。&lt;/p&gt;
&lt;p&gt;專案是使用 next.js page router，所以我最直接的想法就是建新的資料夾來設定對應的 page&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pages/
└── rhinoshield/
    ├── faq/
    │   ├── index.tsx                =&amp;gt; /rhinoshield/faq
    │   ├── [categoryId]/
    │   │   ├── index.tsx            =&amp;gt; /rhinoshield/faq/[categoryId]
    │   │   └── [sectionId]/
    │   │       └── index.tsx        =&amp;gt; /rhinoshield/faq/[categoryId]/[sectionId]
    │   │       └── [articleId]/
    │   │           └── index.tsx    =&amp;gt; /rhinoshield/faq/[categoryId]/[sectionId]/[articleId]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然後都吃同一個 component，所以等於寫了好幾次重複的東西，只為了單獨設定 page&lt;/p&gt;
&lt;p&gt;同事提供給我一個 next.js 的 &lt;a href=&#34;https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes&#34; target=&#34;_blank&#34;&gt;Dynamic Routes&lt;/a&gt;
 的 Optional Catch-all Segments&lt;/p&gt;
&lt;p&gt;之前我使用過的 dynamic routes 是像 &lt;code&gt;[id]&lt;/code&gt; 這種，這個方式讓 &lt;code&gt;/a&lt;/code&gt;、&lt;code&gt;/b&lt;/code&gt;、&lt;code&gt;/123&lt;/code&gt; 等都包含在裡面，透過 &lt;code&gt;router.query&lt;/code&gt; 就能取得 &lt;code&gt;a&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt;、&lt;code&gt;123&lt;/code&gt; 這些值。&lt;/p&gt;
&lt;p&gt;如果需要更多 query，可以使用 &lt;code&gt;[...slug]&lt;/code&gt;，如下面這張圖&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/use-slug-for-dynamic-routes-1.png&#34; alt=&#34;nextjs-dynamic-routes&#34;&gt;&lt;/p&gt;
&lt;p&gt;以上面這個例子來說，如果需要讓 &lt;code&gt;/shop&lt;/code&gt; 也在這個可能裡面呢？就可以使用 &lt;code&gt;[[...slug]]&lt;/code&gt;（Optional Catch-all Segments）&lt;/p&gt;
&lt;p&gt;使用這個方式，不用新增過多 page folder，就可以更好的達成我想要的結果，根據我的需求，我將資料夾結構調整成以下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pages/
└── rhinoshield/
    ├── faq/
    │   ├── [[...slug]].tsx
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;調整成這樣之後，以下網址都會 render &lt;code&gt;[[...slug]].tsx&lt;/code&gt; 裡面的 component&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;/rhinoshield/faq&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/rhinoshield/faq/123&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/rhinoshield/faq/123/123&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/rhinoshield/faq/123/123/123&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;不過這個的小缺點是允許被無限增長的，想要限制 query 的量的話需要靠自己來 handle，我自己是在 &lt;code&gt;[[...slug]].tsx&lt;/code&gt; 內再去判斷 &lt;code&gt;slug&lt;/code&gt; 長度是否大於 3，如果是的話則 return 404 page。&lt;/p&gt;
&lt;p&gt;拿取 slug 的方式，我目前是透過 &lt;code&gt;getServerSideProps&lt;/code&gt; 取得 slug 後傳給 component&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;getServerSideProps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;query&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;slug&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;query&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nx&#34;&gt;slug&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;（感覺寫得很茫，太想睡了但還是要來日更！今天先發出來，日後再來回顧要怎麼修改可以更好）&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用 flex box 來防止字體被動態調整？</title>
      <link>http://localhost:1313/posts/use-flex-to-limit-font-size/</link>
      <pubDate>Wed, 02 Oct 2024 23:21:56 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/use-flex-to-limit-font-size/</guid>
      <description>&lt;p&gt;最近在公司專案上遇到一個有趣的點，是在 android 的手機調整系統字體大小時，即使前端頁面有針對字體設定固定大小，例如 &lt;code&gt;font-size: 14px&lt;/code&gt; ，字也會隨之變大變小。&lt;/p&gt;
&lt;p&gt;有趣的點在於並不是所有字都會跟著動態調整，而且也會因為不同的 android 設備型號不同，有不同的結果。&lt;/p&gt;
&lt;p&gt;例如&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-jsx&#34; data-lang=&#34;jsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Item&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;styled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;	font-size: 14px;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Component&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第一行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第二行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第三行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;有些 android 設備，這三行字可能全部都是 &lt;code&gt;14px&lt;/code&gt;，有些是只有第一行被動態調整，而第二三行則維持 &lt;code&gt;14px&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;對於這個現象我也還是很疑惑，因為 component 都一樣的情況下，為什麼會有不同的結果呢？&lt;/p&gt;
&lt;p&gt;ChatGPT 有提供我一個想法是，也許是因為某個「字」的原因，不過這個我就沒有去實測了。&lt;/p&gt;
&lt;p&gt;我又去看專案中其他有被動態調整的文字，發現似乎加上 &lt;code&gt;display: flex&lt;/code&gt; 會讓字體大小被固定為指定的 px。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-jsx&#34; data-lang=&#34;jsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Item&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;styled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;	font-size: 14px;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ItemWithFlex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;styled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;	font-size: 14px;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;	display: flex;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Component&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第一行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ItemWithFlex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第二行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ItemWithFlex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;這是第三行字&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;使用 &lt;code&gt;ItemWithFlex&lt;/code&gt; 的文字，以目前看到的設備來說（使用了三台 samsung 測試），文字大小都固定為 &lt;code&gt;14px&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;把 &lt;code&gt;display: flex&lt;/code&gt; 加到那些有機率被動態調整的文字的 component 上，似乎都能夠變為正常的指定大小。&lt;/p&gt;
&lt;p&gt;不過以這個方向來找相關資料，資料不多、或是沒有什麼官方說法來驗證這件事。&lt;/p&gt;
&lt;p&gt;相關的 stack overflow 問題：&lt;a href=&#34;https://stackoverflow.com/questions/38346494/why-is-flex-affecting-font-size-on-ios/38347131#&#34; target=&#34;_blank&#34;&gt;Why is flex affecting font size on iOS?&lt;/a&gt;

提到 &lt;code&gt;flex&lt;/code&gt; 和 &lt;code&gt;float&lt;/code&gt; 有可能導致字體大小的問題，不知道有沒有人有遇過類似的問題，以及怎麼解決～&lt;/p&gt;
&lt;p&gt;目前在工作上我先以 &lt;code&gt;display: flex&lt;/code&gt; 作為短解，觀察看看這個解法是否能夠達成固定字體大小的目的。&lt;/p&gt;
&lt;p&gt;註解：這篇文只探討 android 而沒有討論 iOS&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://css-tricks.com/your-css-reset-needs-text-size-adjust-probably/&#34; target=&#34;_blank&#34;&gt;Your CSS reset needs text-size-adjust (probably)&lt;/a&gt;
 這篇文章提到在 css reset 時可以加上 &lt;code&gt;text-size-adjust&lt;/code&gt; 屬性，公司專案原本就有 &lt;code&gt;-webkit-text-size-adjust: 100%;&lt;/code&gt; 的設定，所以 iOS 是沒有字體大小會被動態調整的問題，所以只聚焦在 android 上&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>tsconfig 設定 strict: false 會忽略 null 的型別判定</title>
      <link>http://localhost:1313/posts/strict-false-ignore-null-ts/</link>
      <pubDate>Wed, 25 Sep 2024 01:08:16 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/strict-false-ignore-null-ts/</guid>
      <description>&lt;p&gt;今天在重構一些邏輯的時候&lt;/p&gt;
&lt;p&gt;遇到了以下這個狀況（非當事程式碼，這是用來 demo 用的）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;memoTest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;useMemo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我預期 &lt;code&gt;memoTest&lt;/code&gt; 的型別應該被判定為 &lt;code&gt;{ isSuccess: boolean } | null&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;但實際上是這樣：沒有 &lt;code&gt;null&lt;/code&gt; 的型別&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;http://localhost:1313/img/strict-false-ignore-null-ts-1.png&#34; width=&#34;350&#34;&gt;
&lt;/figure&gt;
&lt;p&gt;即使把程式碼改為&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;memoTest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;useMemo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;isSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;也會是同樣的型別判定&lt;/p&gt;
&lt;p&gt;同事發現是因為 &lt;code&gt;tsconfig.json&lt;/code&gt; 的 &lt;code&gt;strict&lt;/code&gt; 設為 &lt;code&gt;false&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;strict&lt;/code&gt; 設為 &lt;code&gt;false&lt;/code&gt; 會讓 &lt;code&gt;null&lt;/code&gt; 和 &lt;code&gt;undefined&lt;/code&gt; 可以賦值給其他型別&lt;/p&gt;
&lt;p&gt;例如&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tsx&#34; data-lang=&#34;tsx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;123&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;這樣是 valid 的，typescript 不會報錯&lt;/p&gt;
&lt;p&gt;typescript 的文件有提到（&lt;a href=&#34;https://www.typescriptlang.org/tsconfig/#strictNullChecks&#34; target=&#34;_blank&#34;&gt;strictNullChecks&lt;/a&gt;
）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When &lt;code&gt;strictNullChecks&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;null&lt;/code&gt; and &lt;code&gt;undefined&lt;/code&gt; are effectively ignored by the language.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;當 &lt;code&gt;strictNullChecks&lt;/code&gt; 為 &lt;code&gt;false&lt;/code&gt;（&lt;code&gt;strict&lt;/code&gt; 設為 false 時，&lt;code&gt;strictNullChecks&lt;/code&gt; 即使沒有設定，也會是 &lt;code&gt;false&lt;/code&gt;），&lt;code&gt;null&lt;/code&gt; 和 &lt;code&gt;undefined&lt;/code&gt; 會完全被忽略。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;strict&lt;/code&gt; 設為 &lt;code&gt;false&lt;/code&gt; 的情況下&lt;/p&gt;
&lt;p&gt;TypeScript 會忽略 &lt;code&gt;null&lt;/code&gt; 和 &lt;code&gt;undefined&lt;/code&gt; 的可能性&lt;/p&gt;
&lt;p&gt;如果沒有做好 falsy 值的處理的話，可能會導致非預期的結果（壞去～～）&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>實作 | 把 codepen 嵌入 Hugo 文章</title>
      <link>http://localhost:1313/posts/insert-codepen-in-hugo/</link>
      <pubDate>Fri, 20 Sep 2024 01:11:31 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/insert-codepen-in-hugo/</guid>
      <description>&lt;p&gt;為了在 Hugo 文章內插入 codepen 的預覽，找到了 Hugo 的 &lt;code&gt;shortcodes&lt;/code&gt; 的方式， Markdown 有時候無法達成一些需求，導致創作者會需要把 HTML 放到 Markdown 裡面，讓整體不是很美觀。透過 &lt;code&gt;shortcodes&lt;/code&gt; 可以兼顧美觀、也可以達到創作者的需求，把 HTML 內容放到 Markdown 內。&lt;/p&gt;
&lt;p&gt;以上簡介以及用法可以參考 Hugo 的這篇文章：&lt;a href=&#34;https://gohugo.io/content-management/shortcodes/&#34; target=&#34;_blank&#34;&gt;Shortcodes&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;實作的部分，以插入 codepen 來說&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打開你想要 embed 入文章的 codepen 作品&lt;/li&gt;
&lt;li&gt;按右下角的 &lt;code&gt;Embed&lt;/code&gt;，會出現一個彈窗&lt;/li&gt;
&lt;li&gt;右下角會有 &lt;code&gt;HTML(Recommended)&lt;/code&gt; 這段程式碼，把它複製起來&lt;/li&gt;
&lt;li&gt;回到你的 Hugo 專案，在 &lt;code&gt;layouts/shortcodes&lt;/code&gt; 新增一個檔案，名字隨意，我是取 &lt;code&gt;codepen.html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;把剛剛複製的程式碼貼到這個檔案&lt;/li&gt;
&lt;li&gt;因為是範本，所以我有把一些比較針對單一作品、但又不想每次都傳參數進來的欄位拔掉，應該不會有影響&lt;/li&gt;
&lt;li&gt;主要改動是把中間的 &lt;code&gt;&amp;lt;span&amp;gt;&lt;/code&gt; 拿掉、&lt;code&gt;data-slug-hash&lt;/code&gt; 的值將以參數傳入，是作品的 id&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;data-user=&amp;ldquo;yourname&amp;rdquo; 要改成你的 username&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;p class=&amp;#34;codepen&amp;#34; data-height=&amp;#34;500&amp;#34; data-default-tab=&amp;#34;result&amp;#34; data-slug-hash=&amp;#34;{{ .Get &amp;#34;id&amp;#34; }}&amp;#34; data-user=&amp;#34;yourname&amp;#34; style=&amp;#34;height: 500px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&amp;#34;&amp;gt;&amp;lt;/p&amp;gt;

&amp;lt;script async src=&amp;#34;https://cpwebassets.codepen.io/assets/embed/ei.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著在你想要插入的文章內文中，找好適當位置貼上下面這段程式碼（因為直接貼上來的話，會吃到 shortcodes，所以我用圖片）&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;http://localhost:1313/img/insert-codepen-in-hugo-1.png&#34;&gt;
&lt;/figure&gt;
&lt;p&gt;說明：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;codepen&lt;/code&gt;：如果你剛剛新增的 html 檔案名稱不是 &lt;code&gt;codepen.html&lt;/code&gt; 而是 &lt;code&gt;XXX.html&lt;/code&gt; 就把這邊的 &lt;code&gt;codepen&lt;/code&gt; 改成 &lt;code&gt;XXX&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id&lt;/code&gt; 為你的 codepen 作品 id，你的 codepen 作品網址應該會是 &lt;code&gt;https://codepen.io/&amp;lt;yourname&amp;gt;/pen/&amp;lt;這邊是 id&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;如果你想要動態調整高度的話，也可以新增 &lt;code&gt;height&lt;/code&gt; 參數，再調整一下範本的內容&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;希望有成功！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CSS Challenge Day 6 | 做一個有缺口的圓形</title>
      <link>http://localhost:1313/posts/creating-circular-shape-with-gap/</link>
      <pubDate>Wed, 18 Sep 2024 23:56:27 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/creating-circular-shape-with-gap/</guid>
      <description>&lt;figure&gt;&lt;img src=&#34;http://localhost:1313/img/creating-circular-shape-with-gap-1.png&#34; width=&#34;350&#34;&gt;
&lt;/figure&gt;
&lt;p&gt;這樣類似圓形的圖形會怎麼做呢？&lt;/p&gt;
&lt;p&gt;最近開始做 css 的 100 天 Challenge，Day 6 有一個這樣的圖形需求，我先是朝了 clip path、svg 等方向來思考、找相關資料，但似乎沒有符合我需求的，於是直接找了網路上做 Day6 的人的分享（&lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10290513?sc=rss.qu&#34; target=&#34;_blank&#34;&gt;[Day 7] Profile: 來製作個簡單樸實的個人檔案吧!&lt;/a&gt;
）&lt;/p&gt;
&lt;p&gt;發現只要像平常做圓形一樣去做就可以： &lt;code&gt;width&lt;/code&gt; 、 &lt;code&gt;height&lt;/code&gt; 、 &lt;code&gt;border-radius&lt;/code&gt; 以及 &lt;code&gt;border&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;關鍵在於想要製造缺口的那一邊的 border 顏色設為 &lt;code&gt;transparent&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;又是把圖形想得太複雜的一天！&lt;/p&gt;
&lt;p&gt;今天 CSS Challenge 的成果：
&lt;p class=&#34;codepen&#34; data-height=&#34;500&#34; data-default-tab=&#34;result&#34; data-slug-hash=&#34;vYqqqqy&#34; data-user=&#34;zzuhann&#34; style=&#34;height: 500px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&#34;&gt;&lt;/p&gt;
&lt;script async src=&#34;https://cpwebassets.codepen.io/assets/embed/ei.js&#34;&gt;&lt;/script&gt; &lt;/p&gt;
&lt;p&gt;（推坑一下 BOYNEXTDOOR！）&lt;/p&gt;
&lt;p&gt;（哇光是研究 hugo 要怎麼嵌入 codepen 預覽又另外花了一些時間，明天來分享！）&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>在 Hugo 裡安裝 Disqus 啟用留言板功能！</title>
      <link>http://localhost:1313/posts/add-disqus-in-hugo/</link>
      <pubDate>Fri, 13 Sep 2024 01:05:07 +0800</pubDate>
      
      <guid>http://localhost:1313/posts/add-disqus-in-hugo/</guid>
      <description>&lt;h3 id=&#34;一些前言&#34;&gt;一些前言 &lt;a href=&#34;#%e4%b8%80%e4%ba%9b%e5%89%8d%e8%a8%80&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;前天跟了一場&lt;a href=&#34;https://www.facebook.com/smallgoldfishblog/?locale=zh_TW&#34; target=&#34;_blank&#34;&gt;小金魚的人生實驗島&lt;/a&gt;
的分享（預計明天或後天可以來簡單分享），開始想把一些東西分享在這個部落格，而不單單只是工作與技術相關的，希望這裡可以成為紀錄我各個面向的地方，畢竟人不只是在工作而已，是由很多不同的面貌組成的。&lt;/p&gt;
&lt;p&gt;小金魚提到，要「公開」而且是可以收到回饋的地方，這個部落格目前並沒有留言板讓有其他想法的人留言，只能透過寄信或是在社群聯絡我的方式來交流一些想法，所以我決定在這個部落格加一個留言板。&lt;/p&gt;
&lt;p&gt;先說結論：我使用的是 Disqus，我沒有針對各個留言板做太多功課，但有一些基本的需求：可以放到 hugo 裡面使用、可以不登入就留言，因為預計之後文章的主題不限於技術相關，所以也不是所有人都有 github 帳號可以使用，其他的我就沒關係～ 可以先試用看看研究一下有沒有遇到痛點再來跳槽。優缺點分析我是參考這篇：&lt;a href=&#34;https://ivonblog.com/posts/replace-giscus-with-disqus/&#34; target=&#34;_blank&#34;&gt;為什麼我要用Disqus取代Giscus當作Hugo留言板&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;先在-disqus-註冊與設定&#34;&gt;先在 Disqus 註冊與設定 &lt;a href=&#34;#%e5%85%88%e5%9c%a8-disqus-%e8%a8%bb%e5%86%8a%e8%88%87%e8%a8%ad%e5%ae%9a&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h3&gt;&lt;h4 id=&#34;先去hahahugoshortcode5s2hbhb註冊帳號&#34;&gt;先去&lt;a href=&#34;https://disqus.com/&#34; target=&#34;_blank&#34;&gt;官網&lt;/a&gt;
註冊帳號 &lt;a href=&#34;#%e5%85%88%e5%8e%bbhahahugoshortcode5s2hbhb%e8%a8%bb%e5%86%8a%e5%b8%b3%e8%99%9f&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;到右上角 &lt;code&gt;Get Started&lt;/code&gt; 進行註冊或 &lt;code&gt;Login&lt;/code&gt; 登入
&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-1.png&#34; alt=&#34;disqus官網&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;i-want-to-install-disqus-on-my-site&#34;&gt;I want to install Disqus on my site &lt;a href=&#34;#i-want-to-install-disqus-on-my-site&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-2.png&#34; alt=&#34;choose-service&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;create-a-new-site&#34;&gt;Create a new site &lt;a href=&#34;#create-a-new-site&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;輸入你的 Website Name，他會幫你轉換成下面的網址&lt;/li&gt;
&lt;li&gt;Category 都可以&lt;/li&gt;
&lt;li&gt;Language 就照你想要的語言&lt;/li&gt;
&lt;li&gt;輸入完之後就 Create Site&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-3.png&#34; alt=&#34;enter-info&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;選擇免費的-basic-專案點擊-subscribe-now&#34;&gt;選擇免費的 Basic 專案，點擊 Subscribe Now &lt;a href=&#34;#%e9%81%b8%e6%93%87%e5%85%8d%e8%b2%bb%e7%9a%84-basic-%e5%b0%88%e6%a1%88%e9%bb%9e%e6%93%8a-subscribe-now&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;h4 id=&#34;選擇平台&#34;&gt;選擇平台 &lt;a href=&#34;#%e9%81%b8%e6%93%87%e5%b9%b3%e5%8f%b0&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;因為 Hugo 不在這些選項裡面，所以選擇下面的按鈕
&lt;code&gt;I don&#39;t see my platform listed, install manually with Universal Code&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-4.png&#34; alt=&#34;choose-manually-universal-code&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;universal-code-install-instructions&#34;&gt;Universal Code install instructions &lt;a href=&#34;#universal-code-install-instructions&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;接下來會到這個頁面（最上面是一個 How to Install Disqus Using the Universal Code 的影片）
直接滑下來到最底，右下角有一個 &lt;code&gt;Configure&lt;/code&gt; 的按鈕
按下去，然後不用更改，再按 &lt;code&gt;Next&lt;/code&gt; 按鈕
會到這邊
照自己的需求去選就好，之後也還可以更改&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-5.png&#34; alt=&#34;choose-preference&#34;&gt;&lt;/p&gt;
&lt;p&gt;選完之後就按右下角的 &lt;code&gt;Complete Setup&lt;/code&gt;
設定就差不多完成哩～ 接下來可以到 &lt;code&gt;Setting&lt;/code&gt; 頁面，原本的位置應該是在 &lt;code&gt;Start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/img/add-disqus-in-hugo-6.png&#34; alt=&#34;remember-short-name&#34;&gt;&lt;/p&gt;
&lt;p&gt;點擊上面選單的 &lt;code&gt;Setting&lt;/code&gt; 進到設定頁面，左邊選擇 &lt;code&gt;General&lt;/code&gt; ，等等會需要用到 &lt;code&gt;Shortname&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;hugo-安裝-disqus&#34;&gt;Hugo 安裝 Disqus &lt;a href=&#34;#hugo-%e5%ae%89%e8%a3%9d-disqus&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h3&gt;&lt;h4 id=&#34;在設定檔案中-configtoml-加入-disqusshortname&#34;&gt;在設定檔案中 &lt;code&gt;config.toml&lt;/code&gt; 加入 &lt;code&gt;disqusShortname&lt;/code&gt; &lt;a href=&#34;#%e5%9c%a8%e8%a8%ad%e5%ae%9a%e6%aa%94%e6%a1%88%e4%b8%ad-configtoml-%e5%8a%a0%e5%85%a5-disqusshortname&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;disqusShortname: &amp;lt;你的 Shortname&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;位置不要放錯～ 我覺得可以盡量往上面放，放在 &lt;code&gt;title&lt;/code&gt; 附近&lt;/p&gt;
&lt;h4 id=&#34;在-layoutspartials-新增-disqushtml&#34;&gt;在 &lt;code&gt;layouts/partials&lt;/code&gt; 新增 &lt;code&gt;disqus.html&lt;/code&gt; &lt;a href=&#34;#%e5%9c%a8-layoutspartials-%e6%96%b0%e5%a2%9e-disqushtml&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;記得不要加到 theme 資料夾裡面的 partials 了（我不小心放在這邊，結果想說為什麼正式環境都沒有）
&lt;code&gt;disqus.html&lt;/code&gt; 放上這段&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;disqus_thread&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;text/javascript&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Don&amp;#39;t ever inject Disqus on localhost--it creates unwanted
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// discussions from &amp;#39;localhost:1313&amp;#39; on your Disqus account...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;window&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;location&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dsq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;script&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dsq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/javascript&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dsq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;disqus_shortname&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{{ .Site.Config.Services.Disqus.Shortname }}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;dsq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;src&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;//&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;disqus_shortname&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.disqus.com/embed.js&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;head&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;body&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;appendChild&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dsq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;})();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;noscript&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Please enable JavaScript to view the &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://disqus.com/?ref_noscript&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;comments powered by Disqus.&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;noscript&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://disqus.com/&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;dsq-brlink&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;comments powered by &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;span&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;logo-disqus&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Disqus&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;span&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果想在本地開發環境看到留言板的話，可以把下面這段註解&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;window&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;location&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;將-disqushtml-引入到適合的位置&#34;&gt;將 &lt;code&gt;disqus.html&lt;/code&gt; 引入到適合的位置 &lt;a href=&#34;#%e5%b0%87-disqushtml-%e5%bc%95%e5%85%a5%e5%88%b0%e9%81%a9%e5%90%88%e7%9a%84%e4%bd%8d%e7%bd%ae&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;觀察一下如果要放東西在你的文章最下面，哪個檔案、哪個地方最適合
就把下面這段放進去那邊&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;disqus markdown&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;width: 100%;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	{{ partial &amp;#34;disqus.html&amp;#34; . }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我加上 &lt;code&gt;style=&amp;quot;width: 100%;&amp;quot;&lt;/code&gt; 是因為 iframe 不知道為什麼會有 &lt;code&gt;width: 1px !important&lt;/code&gt; 導致畫面上留言板只有 1px，加上這個 style 之後就可以了
也可以嘗試看看把 &lt;code&gt;width: 100%&lt;/code&gt; 拿掉看會不會有影響，也許不一定要加&lt;/p&gt;
&lt;p&gt;以上～ 把這段過程保留下來，之後自己需要再用的時候可以再來複習一次
希望可以幫助到想要加留言板的你們～～！如果有卡關可以在下面留言，測試看看這個留言板是不是有正常運作&lt;/p&gt;
&lt;h3 id=&#34;參考資料&#34;&gt;參考資料 &lt;a href=&#34;#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99&#34; class=&#34;anchor&#34;&gt;🔗&lt;/a&gt;&lt;/h3&gt;&lt;a href=&#34;https://dizang.io/posts/hugo-install-disqus/&#34; target=&#34;_blank&#34;&gt;Hugo 安裝 Disqus 留言板&lt;/a&gt;

&lt;p&gt;(2/365)&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
